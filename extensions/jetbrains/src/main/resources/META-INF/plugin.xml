<idea-plugin>
    <id>com.loom.intellij</id>
    <name>Loom</name>
    <vendor email="support@loom.io" url="https://github.com/jordanhubbard/Loom">Loom</vendor>

    <description><![CDATA[
    AI-powered coding assistant integrated with Loom.
    
    Features:
    - AI chat tool window
    - Inline code suggestions
    - Code explanations
    - Test generation
    - Refactoring suggestions
    - Bug fixing assistance
    ]]></description>

    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Tool Window -->
        <toolWindow id="Loom" secondary="true" icon="/icons/loom.svg" anchor="right"
                    factoryClass="com.loom.intellij.ui.ChatToolWindowFactory"/>

        <!-- Settings -->
        <applicationConfigurable parentId="tools" instance="com.loom.intellij.settings.LoomSettings"
                                 id="com.loom.intellij.settings.LoomSettings"
                                 displayName="Loom"/>
        <applicationService serviceImplementation="com.loom.intellij.settings.LoomSettingsState"/>

        <!-- Completion Provider -->
        <completion.contributor language="any" implementationClass="com.loom.intellij.completion.LoomCompletionContributor"/>
    </extensions>

    <actions>
        <group id="Loom.EditorPopupMenu" text="Loom" popup="true">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            <action id="Loom.ExplainCode" class="com.loom.intellij.actions.ExplainCodeAction"
                    text="Explain Code" description="Explain selected code with Loom"/>
            <action id="Loom.GenerateTests" class="com.loom.intellij.actions.GenerateTestsAction"
                    text="Generate Tests" description="Generate unit tests"/>
            <action id="Loom.RefactorCode" class="com.loom.intellij.actions.RefactorCodeAction"
                    text="Refactor" description="Suggest refactorings"/>
            <action id="Loom.FixBug" class="com.loom.intellij.actions.FixBugAction"
                    text="Help Fix Bug" description="Get help fixing a bug"/>
        </group>
    </actions>
</idea-plugin>
